
<ion-content [fullscreen]="true">
 
  <div id="app">
    
    <div class="serverIdentificator" *ngIf="!buttonPressed">
      <form (ngSubmit)="userPressedButton()">
        <ion-item>
          <ion-input [(ngModel)]="MODEL_URL" [ngModelOptions]="{standalone: true}"></ion-input>
        </ion-item>
        <ion-button ion-button type="submit" block>Init detection</ion-button>
      </form>
    </div>

    <h3 *ngIf="!isVideoStreamReady && !initFailMessage && buttonPressed">Initializing webcam stream ...</h3>
    <h3 *ngIf="!isModelReady && !initFailMessage && buttonPressed">loading model ...</h3>
    <h3 *ngIf="initFailMessage">Failed to init stream and/or model - {{ initFailMessage }}</h3>

    <div class="resultFrame">
      <video id="vid" autoplay></video>
      <canvas id="canvas"></canvas>
    </div>

    <div *ngIf="numPredictions != 0">
        <p>Atual: {{framePerSecondAtual}} /Ms</p>
        <p>Min: {{framePerSecondMin}} /Ms</p>
        <p>Max: {{framePerSecondMax}} /Ms</p>
    </div>
  </div>
  
</ion-content>
